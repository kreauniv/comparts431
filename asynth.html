<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Synthesis foundations &#8212; COMP431/ARTS431: Introduction to computer music v1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=3d3fbe02" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=cb25574f" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=b30c7235"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Mathematical preliminaries" href="math.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="synthesis-foundations">
<h1>Synthesis foundations<a class="headerlink" href="#synthesis-foundations" title="Permalink to this heading">¶</a></h1>
<p>The appeal of music generation on a computer for a composer or performing
musician is the illusion of unbounded control over the outcome. Assuming a
sampling rate of 48Khz, you get to determine 28.8 million numbers which, in
principle, exhaust all the possible stereo auditory experiences that a person
can have in 5 minutes. <a class="footnote-reference brackets" href="#ex28" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> That’s under 110MB! The catch, you ask? It is
that what we’re seeking are some small beautiful islands of musical meaning in
a vast ocean of possibilities. An understanding of sound and music perception
and cognition serve as compasses when navigating the ocean of possibilities.</p>
<p>A goal of music production and composition software is, ironically, to <em>reduce</em>
this space of possibilities to a much smaller, but hopefully more <em>interesting</em>
range. Different approaches succeed to varying extents in this endeavour, but
programming languages play a key role in <em>designing</em> an interesting space of
possibilities to explore.</p>
<p>Here, we start with a few well known and simple principles which we can build upon
as we go.</p>
<p>The instrument in the video below is the eponymous “Theremin”, an early
electronic instrument constructed by <a class="reference external" href="https://en.wikipedia.org/wiki/Leon_Theremin">Leon Theremin</a>.</p>
<p>{{&lt; youtube LYSGTkNtazo &gt;}}</p>
<p>It features two dimensions of control - the “volume” and the “pitch” of a
single tone. With just these two dimensions of control <a class="footnote-reference brackets" href="#dim" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>, Clara Rockmore’s
virtuosic performances of classical pieces is practically legend.</p>
<p>{{&lt; youtube w-TKLD_ocnY &gt;}}</p>
<p>Let’s therefore try and understand these two dimensions first by making
a toy model that can produce them.</p>
<p>The “volume” of a sound is, loosely speaking, its “loudness”. We know what
those words mean, but what do they mean in terms of the numbers we’re trying to
calculate?</p>
<p>We are similarly also able to grasp the idea of a “pitch” of a tone and can
quite easily tell between the “low” pitch of an elderly person and the “high”
or “shrill” pitch of a 3 year old child. But, again, what is “pitch” in terms
of the numbers we’re attempting to calculate?</p>
<p>To understand the two, it is useful to look at the vibrations of a string,
where we can see (or rather hear) that the harder we pluck or strike a string,
the louder it sounds and the shorter we make the vibrating length, the
“shriller” it sounds. Therefore these aspects can be seen to have something
to do with a periodic “vibration” – the extent of the vibration determining
the “volume” and the number of vibrations in a second determining the “pitch”
of the tone produced.</p>
<section id="periodic-circular-motion">
<h2>Periodic circular motion<a class="headerlink" href="#periodic-circular-motion" title="Permalink to this heading">¶</a></h2>
<p>A qunintessential periodic motion is that of circular motion, where a chosen
point on a spinning circle, whose position is determined by an angle <a class="footnote-reference brackets" href="#angle" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>
repeatedly executes the same movement every time it comes around to its starting
position. Given a speed of <span class="math notranslate nohighlight">\(f\)</span> revolutions per second, if we wish to
determine the angle a small interval of time <span class="math notranslate nohighlight">\(dt\)</span> later, we see that the
angle has changed by <span class="math notranslate nohighlight">\(2\pi f dt\)</span>. We may choose to change the speed with
which we’re cranking the wheel over time. To continue to track the movement of
our point, we keep adding up these “little bits of angle change” to determine
where our point will be. If we assume a fixed rate of cranking the wheel,
the angle at a time <span class="math notranslate nohighlight">\(t\)</span> will be <span class="math notranslate nohighlight">\(2\pi f t + \phi_0\)</span> where
<span class="math notranslate nohighlight">\(\phi_0\)</span> is the initial angle at time <span class="math notranslate nohighlight">\(t = 0\)</span>.</p>
<p>The interesting thing about such a circular motion is that it enables us to
represent and work with any kind of periodic motion!</p>
<p>At the moment, our expression <span class="math notranslate nohighlight">\(2\pi ft\)</span> rises indefinitely with <span class="math notranslate nohighlight">\(t\)</span>
and shows no hint of periodicity. To reflect the fact that we’re using it to go
around in a circle, we first recognize that the angular position <span class="math notranslate nohighlight">\(\theta\)</span>
refers to the same position as <span class="math notranslate nohighlight">\(\theta + 2k\pi\)</span> for any integer
<span class="math notranslate nohighlight">\(k\)</span>. i.e. all the angles <span class="math notranslate nohighlight">\(2\pi(ft + k)\)</span> for various integer values of <span class="math notranslate nohighlight">\(k\)</span> all
represent the same angular position on the circle. We can make this fact explicit
by using the <code class="docutils literal notranslate"><span class="pre">fmod</span></code> operation in python, which computes just the fractional part
of a number. This fractional part can only lie between <span class="math notranslate nohighlight">\(0.0\)</span> and <span class="math notranslate nohighlight">\(1.0\)</span>.
We call this a “phasor”.</p>
<div class="admonition-term admonition">
<p class="admonition-title"><strong>Term</strong></p>
<p>A “phasor” is a function of time that rises from 0 to 1 linearly and fallse
back to 0 and does it over and over again with a chosen period. A phasor
with a constant frequency can be represented by the equation <span class="math notranslate nohighlight">\(y =
\text{fmod}(ft,1.0)\)</span>. We’ll denote this by <span class="math notranslate nohighlight">\(\phi(ft)\)</span>.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">constant_frequency_phasor</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">phi0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">fmod</span><span class="p">(</span><span class="n">f</span> <span class="o">*</span> <span class="n">t</span> <span class="o">+</span> <span class="n">phi0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<p>Once we have a phasor, we can calculate the common “sine wave oscillator”
easily as the function <span class="math notranslate nohighlight">\(\text{sinosc}(a,f,t) = a * \sin(2\pi\phi(ft +
\phi_0))\)</span>. Here the <span class="math notranslate nohighlight">\(a\)</span> determines the maximum and minimum values between
which the oscillator swings. When we listen to this turned into sound, <span class="math notranslate nohighlight">\(a\)</span>
determines how loud the tone sounds – the larger the value of <span class="math notranslate nohighlight">\(a\)</span>, the
louder it sounds.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">constant_frequency_sine_wave</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">phi0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">constant_frequency_phasor</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">phi0</span><span class="p">))</span>
</pre></div>
</div>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="angle" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">1</a><span class="fn-bracket">]</span></span>
<p>assuming fixed distance from the centre of the circle.</p>
</aside>
</aside>
<p>It turns out that our ear recognizes a sound shaped like a sine wave as a “pure
tone” – a tone that could be said to be devoid of all “quality” a.k.a.
“timbre” a.k.a. “colour”. The <span class="math notranslate nohighlight">\(a\)</span>, called the “amplitude”, determines the
perceived loudness of the tone and <span class="math notranslate nohighlight">\(f\)</span>, called the “frequency”,
determines its perceived “pitch”.</p>
</section>
<section id="towards-control">
<h2>Towards control<a class="headerlink" href="#towards-control" title="Permalink to this heading">¶</a></h2>
<p>Having a fixed amplitude and frequency makes for a totally boring colourless tone.
Like Clara Rockmore, we want to be able to control – i.e. vary – both the amplitude
and the frequency over time to …. well, make music!</p>
<p>To do that, we’re going to have to write programs that calculate a certain duration
of sound given some functions to calculate it. We also want to calculate the sound
<strong>incrementally</strong> – i.e. sample by sample – so that we can vary any characteristics
from one sample to the next. Towards this, we need to change our perspective from
writing a closed form mathematical function to something that’s much easier expressed
as a program. See <a class="reference external" href="https://github.com/kreauniv/comparts431/blob/main/source/synth.py">synth.py</a> for a starting point. You can use those functions
directly using <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">synth</span> <span class="pre">import</span> <span class="pre">*</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You’ll need <code class="docutils literal notranslate"><span class="pre">NumPy</span></code> and <code class="docutils literal notranslate"><span class="pre">sounddevice</span></code> installed already to use
the <a class="reference external" href="https://github.com/kreauniv/comparts431/blob/main/source/synth.py">synth.py</a> module. Install those using <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">numpy</span></code> followed
by <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">sounddevice</span></code>.</p>
</div>
<p>TODO</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="dim" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>Compared to the 28.8 million dimensions mentioned earlier.</p>
</aside>
<aside class="footnote brackets" id="ex28" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">3</a><span class="fn-bracket">]</span></span>
<p>Setting aside the variations in equipment involved in the delivery
and experience of these productions.</p>
</aside>
</aside>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">COMP431/ARTS431: Introduction to computer music</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="math.html">Mathematical preliminaries</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Synthesis foundations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#periodic-circular-motion">Periodic circular motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="#towards-control">Towards control</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="math.html" title="previous chapter">Mathematical preliminaries</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2024, Srikumar K. S..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/asynth.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>